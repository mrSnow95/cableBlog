<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.8.0 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Node.js and MySQL - pi_squared</title>




<meta name="description" content="Node.js is able to connect to MySQL database servers, but support for this is not built in. We need to make use of a Node.js package that handles the low level details of establishing a connection and talking to the database. The most widely used package is mysql.">




<meta name="author" content="Bruno Neves">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="pi_squared">
<meta property="og:title" content="Node.js and MySQL">


  <link rel="canonical" href="http://localhost:4000/cableBlog/Node.js-and-MySQL/">
  <meta property="og:url" content="http://localhost:4000/cableBlog/Node.js-and-MySQL/">



  <meta property="og:description" content="Node.js is able to connect to MySQL database servers, but support for this is not built in. We need to make use of a Node.js package that handles the low level details of establishing a connection and talking to the database. The most widely used package is mysql.">

















  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2021-03-01T00:00:00+00:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "",
      "url" : "http://localhost:4000/cableBlog",
      "sameAs" : null
    }
  </script>







<!-- end SEO -->


<link href="http://localhost:4000/cableBlog/feed.xml" type="application/atom+xml" rel="alternate" title="pi_squared Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>



<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/cableBlog/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
      inlineMath: [],
      displayMath: [],
      processEscapes: false,
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>



<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="http://localhost:4000/cableBlog/">pi_squared</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/cableBlog/about/" >About</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/cableBlog/posts/" >Posts</a>
            </li>
          
        </ul>
        
        <button class="greedy-nav__toggle" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  

<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="http://localhost:4000/cableBlog/assets/images/profile-1.jpg" alt="Bruno Neves" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Bruno Neves</h3>
    
    
      <p class="author__bio" itemprop="description">
        Computer Engineer
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="http://schema.org/Place">
          <i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> <span itemprop="name">Braga, Portugal</span>
        </li>
      

      

      
        <li>
          <a href="mailto:neves.brunobr@gmail.com">
            <meta itemprop="email" content="neves.brunobr@gmail.com" />
            <i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      

      

      

      

      

      
        <li>
          <a href="https://instagram.com/brunosszaa" itemprop="sameAs">
            <i class="fa fa-fw fa-instagram" aria-hidden="true"></i> Instagram
          </a>
        </li>
      

      

      

      
        <li>
          <a href="https://github.com/mrSnow95" itemprop="sameAs">
            <i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fa fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Node.js and MySQL">
    <meta itemprop="description" content="Node.js is able to connect to MySQL database servers, but support for this is not built in. We need to make use of a Node.js package that handles the low level details of establishing a connection and talking to the database. The most widely used package is mysql.">
    <meta itemprop="datePublished" content="March 01, 2021">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Node.js and MySQL
</h1>
          <p class="page__meta">
            
              <time datetime="2021-03-01T00:00:00+00:00">March 01, 2021</time> &nbsp;&nbsp;&nbsp;
            
            
              <i class="fa fa-clock-o" aria-hidden="true"></i> 




  12 minute read
 &nbsp;&nbsp;&nbsp;
            
          </p>
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Node.js is able to connect to MySQL database servers, but support for this is not built in. We need to make use of a Node.js package that handles the low level details of establishing a connection and talking to the database. The most widely used package is <a href="https://www.npmjs.com/package/mysql">mysql</a>.</p>

<p>For my case, I use the Manjaro Distribution for OS, which has this <a href="https://manjaro-tutorial.blogspot.com/2016/11/install-mysql-server-on-manjaro-1610.html">nice tutorial</a> to setup the environment.</p>

<p><strong>A first database application</strong></p>

<p>Once you are up and running, let’s start with a first, simple database application. Create a file index.js in the directory where you installed the node-mysql module, and fill it with the following code:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">mysql</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">mysql</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">connection</span> <span class="o">=</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">createConnection</span><span class="p">({</span>
  <span class="na">host</span><span class="p">:</span> <span class="dl">'</span><span class="s1">localhost</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">user</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">password</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span>
<span class="p">});</span>

<span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">CREATE DATABASE node</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Could not create database "node".</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">USE node</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Could not switch to database "node".</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">CREATE TABLE test </span><span class="dl">'</span> <span class="o">+</span>
  <span class="dl">'</span><span class="s1">(id INT(11) AUTO_INCREMENT, </span><span class="dl">'</span> <span class="o">+</span>
  <span class="dl">'</span><span class="s1"> content VARCHAR(255), </span><span class="dl">'</span> <span class="o">+</span>
  <span class="dl">'</span><span class="s1"> PRIMARY KEY(id))</span><span class="dl">'</span><span class="p">,</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Could not create table "test".</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">);</span>

<span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">INSERT INTO test (content) VALUES ("Hello")</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">INSERT INTO test (content) VALUES ("World")</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">connection</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>

</code></pre></div></div>

<p>First, we include the external mysql library. We then
create a new object dubbed connection.</p>

<p>This object is a representation of our connection with the database. Thre is no connection without connecting, which is why we call the createConnection function with the parameters necessary to connect and authenticate against the database server.</p>

<p>Note that there is a parameter port which defaults to 3306 if omitted. You only need to set this parameter if your database server does not run on this default port.</p>

<p>Through the newly created connection object, we can now talk to the database server.</p>

<p>To do so, the connection object provides a method named query.
We provide two parameters to the method call. The first is an SQL statement, the second is an anonymous function. This function gets called when Node.js receives the answer to our query from
the server - a callback.</p>

<p>This is once again the classical asynchronous pattern of JavaScript applications that makes sense whenever our code triggers an operation whose execution could potentially block the program flow if executed synchronously: Imagine the database needing 5 seconds before it has compiled the answer to our query - that’s not unlikely for more complex queries. If we wouldn’t wait for the database’s answer asynchronously, then our whole application would have to wait for it. No other code could be executed for these 5 seconds, rendering our whole application unusable during this time.</p>

<p>The query method passes to our callback function: err, results, and fields.</p>

<p>What kind of thing is results? It’s simply an array of objects, with each object representing one row of the result set and each attribute of such an object representing one field of the according row.</p>

<p>In another file, write the following:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

 <span class="kd">var</span> <span class="nx">mysql</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">mysql</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">connection</span> <span class="o">=</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">createConnection</span><span class="p">({</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">'</span><span class="s1">localhost</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">user</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">password</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">database</span><span class="p">:</span> <span class="dl">'</span><span class="s1">node</span><span class="dl">'</span>
<span class="p">});</span>

<span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span>
    <span class="dl">'</span><span class="s1">SELECT id, content FROM test</span><span class="dl">'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">fields</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">A database error occured!</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="nx">connection</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre></div></div>
<p>We now receive an array with two objects, because the result consists of two rows.</p>

<p>However, there is another source of potentially blocking behaviour: large resultsets.</p>

<p>Imagine that our test database consists of 1,000,000 rows instead of just two, and we would like to output the content of the whole result to the console like this:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span>
    <span class="dl">'</span><span class="s1">SELECT id, content FROM test</span><span class="dl">'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">,</span> <span class="nx">fields</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Content of id </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1"> is </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">content</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">);</span>

</code></pre></div></div>

<p>Using the callback pattern ensures that our Node.js application won’t block while the database retrieves these 1,000,000 rows.</p>

<p>However, once we receive the resultset with these rows in our
application - that is, within the callback - and we start operating on them, executing these operations
also will take a long time.</p>

<p>During this time, our application will block, too. Remember that in Node.js, only one piece of our JavaScript code is executed at any given time. If we iterate over these 1,000,000 array entries and do something with each entry, and this takes, say, 10 seconds, then our application cannot do something else during these 10 seconds.</p>

<p>The solution: instead of using the all-or-nothing callback pattern, we can utilize node-mysql’s streaming API.</p>

<p>Instead of providing a callback function to the query call, we only provide the SQL statement, but we use the return value of the query function: a Query object.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT id, content FROM test</span><span class="dl">'</span><span class="p">)</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">row</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">row</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Content of id </span><span class="p">${</span><span class="nx">row</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2"> is </span><span class="p">${</span><span class="nx">row</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Now we have a piece of our code running 1,000,000 times, once for each row. While this doesn’t make our application faster in the narrower sense (it will still take the assumed 10 seconds until all rows have been handled), it does make it way more efficient. Our application now only blocks during the handling of one row, immediately returning control to the event loop of our application, allowing to execute other code in between.</p>

<p>Of course, this isn’t critical for an application that is used by only one person on one shell console. But it is very critical if such a database operation takes place within a multi-user client-server application.</p>

<p>Imagine you use a website to retrieve a small amount of data from a database - you wouldn’t want to wait 10 seconds for your page to load only because another user requested a page that retrieved 1,000,000 rows for him from the database.</p>

<p>Let’s write code using the sreaming API of node-mysql:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">var</span> <span class="nx">mysql</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">mysql</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT id,content FROM test</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">query</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span> <span class="p">,(</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error on data base"</span><span class="dl">'</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">query</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">fields</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Received results</span><span class="dl">'</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">query</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">end</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Query Finished</span><span class="dl">'</span><span class="p">)</span>
  <span class="nx">connection</span><span class="p">.</span><span class="nx">end</span><span class="p">()</span>
<span class="p">})</span>


</code></pre></div></div>

<p><strong>Making SQL queries against SQL injection</strong></p>

<p>Let’s now go full circle and create a simple web application that allows to insert data into our table and also reads and displays the data that was entered.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">mysql</span>       <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">mysql</span><span class="dl">'</span><span class="p">),</span>
    <span class="nx">http</span>        <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">http</span><span class="dl">'</span><span class="p">),</span>
    <span class="nx">url</span>         <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">url</span><span class="dl">'</span><span class="p">),</span>
    <span class="nx">querystring</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">querystring</span><span class="dl">'</span><span class="p">);</span>


<span class="c1">// Start a web server on port 8888. Requests go to function handleRequest</span>

<span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">handleRequest</span><span class="p">).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">);</span>


<span class="c1">// Function that handles http requests</span>

<span class="kd">function</span> <span class="nx">handleRequest</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  
  <span class="c1">// Page HTML as one big string, with placeholder "DBCONTENT" for data from</span>
  <span class="c1">// the database</span>
  <span class="kd">var</span> <span class="nx">pageContent</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">&lt;html&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;head&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;meta http-equiv="Content-Type" </span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">content="text/html; charset=UTF-8" /&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;/head&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;body&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;form action="/add" method="post"&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;input type="text" name="content"&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;input type="submit" value="Add content" /&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;/form&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;div&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;strong&gt;Content in database:&lt;/strong&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;pre&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">DBCONTENT</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;/pre&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;/div&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;form action="/" method="get"&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;input type="text" name="q"&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;input type="submit" value="Filter content" /&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;/form&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;/body&gt;</span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">&lt;/html&gt;</span><span class="dl">'</span><span class="p">;</span>
  
  <span class="c1">// Parsing the requested URL path in order to distinguish between</span>
  <span class="c1">// the / page and the /add route</span>
  <span class="kd">var</span> <span class="nx">pathname</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">pathname</span><span class="p">;</span>
  
  <span class="c1">// User wants to add content to the database (POST request to /add)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">pathname</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">/add</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">postParameters</span><span class="p">;</span>
    <span class="nx">request</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">data</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">requestBody</span> <span class="o">+=</span> <span class="nx">data</span><span class="p">;</span>
    <span class="p">});</span>
    <span class="nx">request</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">end</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">postParameters</span> <span class="o">=</span> <span class="nx">querystring</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">requestBody</span><span class="p">);</span>
      <span class="c1">// The content to be added is in POST parameter "content"</span>
      <span class="nx">addContentToDatabase</span><span class="p">(</span><span class="nx">postParameters</span><span class="p">.</span><span class="nx">content</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Redirect back to homepage when the database has finished adding</span>
        <span class="c1">// the new content to the database</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">302</span><span class="p">,</span> <span class="p">{</span><span class="dl">'</span><span class="s1">Location</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">});</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">});</span>
    
    <span class="c1">// User wants to read data from the database (GET request to /)</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// The text to use for filtering is in GET parameter "q"</span>
    <span class="kd">var</span> <span class="nx">filter</span> <span class="o">=</span> <span class="nx">querystring</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">query</span><span class="p">).</span><span class="nx">q</span><span class="p">;</span>
    <span class="nx">getContentsFromDatabase</span><span class="p">(</span><span class="nx">filter</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">contents</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">text/html</span><span class="dl">'</span><span class="p">});</span>
      <span class="c1">// Poor man's templating system: Replace "DBCONTENT" in page HTML with</span>
      <span class="c1">// the actual content we received from the database</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">pageContent</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">DBCONTENT</span><span class="dl">'</span><span class="p">,</span> <span class="nx">contents</span><span class="p">));</span>
      <span class="nx">response</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>


<span class="c1">// Function that is called by the code that handles the / route and</span>
<span class="c1">// retrieves contents from the database, applying a LIKE filter if one</span>
<span class="c1">// was supplied</span>

<span class="kd">function</span> <span class="nx">getContentsFromDatabase</span><span class="p">(</span><span class="nx">filter</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">connection</span> <span class="o">=</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">createConnection</span><span class="p">({</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">'</span><span class="s1">mysql</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">user</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">password</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
    <span class="na">database</span><span class="p">:</span> <span class="dl">'</span><span class="s1">node</span><span class="dl">'</span>
  <span class="p">});</span>
  <span class="kd">var</span> <span class="nx">query</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">resultsAsString</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">filter</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">query</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT id, content FROM test </span><span class="dl">'</span> <span class="o">+</span>
      <span class="dl">'</span><span class="s1">WHERE content LIKE "</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">filter</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">%"</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">query</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT id, content FROM test</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="nx">query</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">A database error occured:</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
  
  <span class="c1">// With every result, build the string that is later replaced into</span>
  <span class="c1">// the HTML of the homepage</span>
  <span class="nx">query</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">result</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resultsAsString</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">id: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
    <span class="nx">resultsAsString</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">, content: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">result</span><span class="p">.</span><span class="nx">content</span><span class="p">;</span>
    <span class="nx">resultsAsString</span> <span class="o">+=</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">});</span>
  
  <span class="c1">// When we have worked through all results, we call the callback</span>
  <span class="c1">// with our completed string</span>
  <span class="nx">query</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">end</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">connection</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
    <span class="nx">callback</span><span class="p">(</span><span class="nx">resultsAsString</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>


<span class="c1">// Function that is called by the code that handles the /add route</span>
<span class="c1">// and inserts the supplied string as a new content entry</span>

<span class="kd">function</span> <span class="nx">addContentToDatabase</span><span class="p">(</span><span class="nx">content</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">connection</span> <span class="o">=</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">createConnection</span><span class="p">({</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">'</span><span class="s1">mysql</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">user</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">password</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
    <span class="na">database</span><span class="p">:</span> <span class="dl">'</span><span class="s1">node</span><span class="dl">'</span>
  <span class="p">});</span>
  
  <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">INSERT INTO test (content) </span><span class="dl">'</span> <span class="o">+</span>
    <span class="dl">'</span><span class="s1">VALUES ("</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">content</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">")</span><span class="dl">'</span><span class="p">,</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Could not insert content "</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">content</span> <span class="o">+</span>
          <span class="dl">'</span><span class="s1">" into database.</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="nx">callback</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<p>One line of code at a time:</p>

<ol>
  <li>
    <p>The HTTP server that is started receives the requests and calls the handleRequest function that is declared after.</p>
  </li>
  <li>
    <p>The variable pathname is declared and initialized with the requested path, which
is / in this case, by parsing the request URL.</p>
  </li>
  <li>
    <p>The handling starts by parsing the URL for the value of the GET parameter q which is later
used to filter the database content</p>
  </li>
  <li>
    <p>We call getContentsFromDatabase with two parameters: The filter string we just parsed from the URL, and an anonymous callback function.</p>
  </li>
  <li>
    <p>We create a new database connection</p>
  </li>
  <li>
    <p>The query to retrieve the contents from the database is started</p>
  </li>
  <li>
    <p>Each retrieved row triggers the execution of the result event handler where we
extend the string resultsAsString with the contents of each row.</p>
  </li>
  <li>
    <p>In the end event handler, we close the connection to the database and then call the callback we passed into the getContentsFromDatabase function. This returns control back to the request handler.</p>
  </li>
  <li>
    <p>We start responding to the request, first by sending a status 200 header, followed by the page content - with the database content replaced into the HTML at the proper place.</p>
  </li>
</ol>

<p>So, nice application, does what it’s supposed to do. And has a huge problem.</p>

<p>Why? Because the way we treat the incoming data that is provided by the user puts our database at risk. Our application is vulnerable to so-called SQL injection attacks. Let’s demonstrate how.</p>

<p>To do so, let’s create another table within our database node, one that’s supposed to carry sensitive information that’s not meant for any user’s eyes. We will just pretend that our nice little contentviewer app is part of a bigger application that somewhere also stores user passwords.</p>

<p>We will call this table passwords, and you need to create this within the node database on your local server, either using the MySQL command line, a MySQL GUI client you happen to use.</p>

<p>Now, here is the scenario: We have a table test that contains public information, and a table passwords that contains sensitive information. We have written an application that operates only on
the test table, thus allowing public access to the public information in that table, but not allowing access to any sensitive information like the passwords in the passwords table.</p>

<p>And yet, the passwords can be retrieved through the application.</p>

<p>Here’s how to do that:
• Start the application with node index.js
• Visit http://localhost:8888 in your browser
• Enter the following text into the second text input field and hit Filter content:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%<span class="s2">" UNION SELECT id, password AS content FROM passwords WHERE password LIKE "</span>
</code></pre></div></div>

<p>You will receive a list of data from the test table (if any content has been added before), but at the end of this list, you will also see the two passwords we have added to the passwords table, like this:</p>

<p>id: 1, content: foo bar
id: 1, content: secret
id: 2, content: dont_tell</p>

<p>Whoops. How is that possible? It’s because a set of SQL commands has been injected into our application’s SQL, although only data - the string to filter for - was meant to be injected. Hence
an SQL injection attack.</p>

<p>If you look at the critical piece of our code, what happens becomes clear: It’s the way our SQL query is constructed:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">query</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT id, content FROM test </span><span class="dl">'</span> <span class="o">+</span>
<span class="dl">'</span><span class="s1">WHERE content LIKE "</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">filter</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">%"</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>When the malicious filter text is entered into the web page, we end up with the following SQL query:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT <span class="nb">id</span>, content FROM <span class="nb">test </span>WHERE content LIKE <span class="s2">"%"</span> UNION
SELECT <span class="nb">id</span>, password AS content FROM passwords WHERE password LIKE <span class="s2">"%"</span>
</code></pre></div></div>

<p>The malicious filter text simply closes the LIKE query of the original SQL and continues with an additional SELECT on the passwords table, combining the results of both SELECTs into a single (and identically structured) result set using the UNION clause. Another LIKE clause is added at the end of the malicious code, which makes sure that the whole SQL is syntactically correct.</p>

<p>This is a made up example for demo purposes, but that’s how actual attacks look like. A real attack might need a lot more effort - e.g., the attacker needs to find out the structure of the passwords table, but supporting information can be gathered by querying meta data from the database; if an attacker
finds a part of the application that allows to extend harmless SQL queries into more potent ones, finding sensitive information is only a question of time and patience.</p>

<p>To solve this, we need a way to create a query that can unambiguously differentiate between the command parts of a query and the value parts.</p>

<p>This is how our query looks when using this syntax:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT <span class="nb">id</span>, content FROM <span class="nb">test </span>WHERE content LIKE ?
</code></pre></div></div>

<p>Now node-mysql knows that whatever is going to be used at the position marked by the ? placeholder is a value, treating it accordingly.</p>

<p>Of course, when issueing the query, we also need a way to tell what value to use. This is done by mapping the value onto the query-with-placeholder, like so:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">filter</span> <span class="o">=</span> <span class="nx">filter</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">%</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">query</span> <span class="o">=</span> <span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT id, content FROM test WHERE content LIKE ?</span><span class="dl">'</span><span class="p">,</span><span class="nx">filter</span><span class="p">);</span>
</code></pre></div></div>

<p>In our specific case, we need to add the search wildcard, %, to the filter parameter. We then construct the query with the placeholder, passing the value for this placeholder as the second parameter. The rest of the code remains unchanged.</p>

<p>We should change the INSERT query that is used for adding content:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">connection</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">INSERT INTO test (content) VALUES (?)</span><span class="dl">'</span><span class="p">,</span> <span class="nx">content</span><span class="p">,</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
<span class="p">...</span>
</code></pre></div></div>
<p>This changes the SQL query to placeholder syntax, and adds the content variable as the second
parameter. The callback function is now the third parameter. Mapping multiple values onto multiple placeholders is done by providing an array of values:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT foo FROM bar WHERE id = ? AND name = ?</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="dl">'</span><span class="s1">John Doe</span><span class="dl">'</span><span class="p">]);</span>
</code></pre></div></div>

<p>Here, “42” maps to the id placeholder, and “John Doe” to the name placeholder.</p>

<p>If you restart the application ad try to attack it again, you will see that the attack no longer works.</p>

<p>Mission accomplished</p>


        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-03-01T00:00:00+00:00">March 01, 2021</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Node.js+and+MySQL%20http%3A%2F%2Flocalhost%3A4000%2FcableBlog%2FNode.js-and-MySQL%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2FcableBlog%2FNode.js-and-MySQL%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http%3A%2F%2Flocalhost%3A4000%2FcableBlog%2FNode.js-and-MySQL%2F" class="btn btn--google-plus" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2FcableBlog%2FNode.js-and-MySQL%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="http://localhost:4000/cableBlog/Optimizing-Code-Performance-and-control-flow-with-Async/" class="pagination--pager" title="Optimizing Code Performance and control flow with Async
">Previous</a>
    
    
      <a href="http://localhost:4000/cableBlog/Don't-abuse-the-spread-operator/" class="pagination--pager" title="Don’t abuse the Spread Operator
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/cableBlog/Multivariable-Calculus/" rel="permalink">Multivariable Calculus
</a>
      
    </h2>
    <p class="page__meta">
      
        <time datetime="2021-07-01T00:00:00+01:00">July 01, 2021</time> &nbsp;&nbsp;&nbsp;
      
      
        <i class="fa fa-clock-o" aria-hidden="true"></i> 




  1 minute read
 &nbsp;&nbsp;&nbsp;
      
    </p>
    <p class="archive__item-excerpt" itemprop="description">For multivariable integrals, the true story starts with a change of coordinates.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/cableBlog/Async-Initialization-in-Node.js/" rel="permalink">Async Initialization in Node.js
</a>
      
    </h2>
    <p class="page__meta">
      
        <time datetime="2021-06-30T00:00:00+01:00">June 30, 2021</time> &nbsp;&nbsp;&nbsp;
      
      
        <i class="fa fa-clock-o" aria-hidden="true"></i> 




  8 minute read
 &nbsp;&nbsp;&nbsp;
      
    </p>
    <p class="archive__item-excerpt" itemprop="description">Tasks that are trivial in traditional synchronous programming can become more complicated when applied to asynchronous programming. A typical example is tryi...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/cableBlog/A-Simple-Neural-Net/" rel="permalink">A Simple Neural Net
</a>
      
    </h2>
    <p class="page__meta">
      
        <time datetime="2021-06-06T00:00:00+01:00">June 06, 2021</time> &nbsp;&nbsp;&nbsp;
      
      
        <i class="fa fa-clock-o" aria-hidden="true"></i> 




  7 minute read
 &nbsp;&nbsp;&nbsp;
      
    </p>
    <p class="archive__item-excerpt" itemprop="description">Neurons

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/cableBlog/Scalibility-and-Architectural-Patterns/" rel="permalink">Scalability and Architectural Patterns in Node.js
</a>
      
    </h2>
    <p class="page__meta">
      
        <time datetime="2021-06-01T00:00:00+01:00">June 01, 2021</time> &nbsp;&nbsp;&nbsp;
      
      
        <i class="fa fa-clock-o" aria-hidden="true"></i> 




  5 minute read
 &nbsp;&nbsp;&nbsp;
      
    </p>
    <p class="archive__item-excerpt" itemprop="description">Node.js is a non-blocking single thread architecture that works great for applications handling a moderate number of requests per second (usually a few hundr...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="https://github.com/mrSnow95"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="http://localhost:4000/cableBlog/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 pi_squared. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="http://localhost:4000/cableBlog/assets/js/main.min.js"></script>







<

  </body>
</html>